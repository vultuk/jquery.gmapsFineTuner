(function(a){var b=0;var c={init:function(c){var d={startLatLng:{lat:-34.397,lng:150.644},startZoom:8,country:"Ireland",countyPrefix:"",counties:"",fineTune:true};var e={clickable:false,radius:1400};var f={draggable:true,visible:false};var c=a.extend(d,c);c.radar=a.extend(e,c.radar);c.marker=a.extend(f,c.marker);return this.each(function(){function u(a){a=typeof a=="undefined"?c.startZoom:a;k=n+m+l+", "+c.country;o.geocode({address:k},function(b,c){if(c==google.maps.GeocoderStatus.OK){q=b[0].geometry.location}p.setCenter(q);r.setPosition(q);j.val(q.toUrlValue());if(b[0].geometry.location_type=="APPROXIMATE"){s.setCenter(q);s.setMap(p);s.setOptions({radius:a==9?35e3:1100})}else{r.setVisible();s.setMap(null)}p.setZoom(a)})}function t(){o=new google.maps.Geocoder;var a=new google.maps.LatLng(c.startLatLng.lat,c.startLatLng.lng);var b={zoom:c.startZoom,center:a,mapTypeId:google.maps.MapTypeId.ROADMAP};p=new google.maps.Map(document.getElementById(f.attr("id")),b);s=new google.maps.Circle(c.radar);r=new google.maps.Marker(c.marker);r.setMap(p);google.maps.event.addListener(r,"dragend",function(a){j.val(a.latLng.toUrlValue())});google.maps.event.addListener(p,"click",function(a){j.val(a.latLng.toUrlValue());r.setPosition(a.latLng);p.setCenter(a.latLng);p.setZoom(17);r.setVisible();s.setMap(null)})}b++;var d=a(this);var e=a('<div class="gmapsFineTuner-formDiv"></div>');var f=a('<div id="gmapsFineTuner-map'+b+'" class="gmapsFineTuner-gmapDiv"></div>');var g,h,i,j;var k="",l="",m="",n="";var o,p,q,r,s;if(c.counties.length>0){g=a('<select><option value="-" selected>Please choose the county</option></select');a.each(c.counties,function(b,d){g.append(a("<option></option>").val(c.countyPrefix+d).html(d))})}else{g=a('<input type="text" value="County">')}g.change(function(){if(a(this).find(":selected").val()!="-"){l=typeof a(this).find(":selected").val()=="undefined"?a(this).val():a(this).find(":selected").val();n="";m="";r.setVisible(false);h.val("Town").show().focus();i.hide();u(9)}});h=a('<input type="text" value="Town">').hide();h.change(function(){m=a(this).val()+", ";n="";r.setVisible(false);i.val("Address").show().focus();u(14)});h.keypress(function(a){var b=null;b=a.keyCode?a.keyCode:a.which;if(b==13){h.change()}return b==13?false:true});i=a('<input type="text" value="Address">').hide();i.change(function(){n=a(this).val()+", ";u(17)});i.keypress(function(a){var b=null;b=a.keyCode?a.keyCode:a.which;if(b==13){i.change()}return b==13?false:true});j=a('<input type="hidden" name="gmapsFineTunerPosition'+b+'">');e.append(g);e.append(h);e.append(i);d.append(e);d.append(f);d.append(j);t()})}};a.fn.gmapsFineTuner=function(b){if(c[b]){return c[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return c.init.apply(this,arguments)}else{a.error("Method "+b+" does not exist on jQuery.tooltip")}}})(jQuery)